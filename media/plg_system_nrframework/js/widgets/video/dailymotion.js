function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}var TF_Dailymotion_Video=function(i){function t(t){var e;return(e=i.call(this,t)||this).player=null,e}_inheritsLoose(t,i);var e=t.prototype;return e.init=function(){this.maybeLoadAPI()},e.pause=function(){this.player&&this.player.pause()},e.dailymotionApiLoaded=function(){return window.dailymotion&&void 0!==window.dailymotion},e.maybeLoadAPI=function(){var i=this;if(!document.querySelector('script[data-video="'+this.dataset.videoId+'"]')||this.dailymotionApiLoaded()){var t=document.createElement("script");t.src="https://geo.dailymotion.com/libs/player/"+this.dataset.videoId+".js",t.setAttribute("data-video",this.dataset.videoId);var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e);return new Promise(function(t,e){!function t(e){i.dailymotionApiLoaded()?i.initDailymotionVideo():setTimeout(function(){return t(e)},350)}(t)})}},e.initDailymotionVideo=function(){function e(t){0<parseInt(i.dataset.videoEnd)&&parseInt(t.videoTime)>=parseInt(i.dataset.videoEnd)&&(i.pause(),i.dataset.videoEnd=0)}var i=this,o=this;dailymotion.createPlayer(this.videoElement.querySelector(":scope div").id,{video:this.dataset.videoId,params:{mute:"true"===this.dataset.videoMute,startTime:this.dataset.videoStart,loop:"true"===this.dataset.videoLoop,autoplay:!1}}).then(function(t){o.player=t,0<parseInt(o.dataset.videoEnd)&&(o.player.on("timeupdate",e),o.player.on("seeking",function(t){t.videoTime<1||o.player.off("timeupdate",e)}))}).catch(function(t){return console.error(t)})},t}(TF_Video);

