function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}var TF_Vimeo_Video=function(i){function t(t){var e;return(e=i.call(this,t)||this).player=null,e}_inheritsLoose(t,i);var e=t.prototype;return e.init=function(){this.maybeLoadVimeoAPI()},e.pause=function(){this.player&&this.player.pause()},e.vimeoApiLoaded=function(){return window.Vimeo&&window.Vimeo.Player&&void 0!==window.Vimeo.Player},e.maybeLoadVimeoAPI=function(){var i=this;if(!document.querySelector(".tf-vimeo-api-script")&&!this.vimeoApiLoaded()){var t=document.createElement("script");t.className="tf-vimeo-api-script",t.src="https://player.vimeo.com/api/player.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}return new Promise(function(t,e){!function t(e){i.vimeoApiLoaded()?i.initVimeoVideo():setTimeout(function(){return t(e)},350)}(t)})},e.initVimeoVideo=function(){var e=this,i=this;this.player=new window.Vimeo.Player(this.videoElement,{id:this.dataset.videoId,loop:this.setAttributeBool(this.dataset,"videoLoop"),autoplay:this.setAttributeBool(this.dataset,"videoAutoplay"),controls:this.setAttributeBool(this.dataset,"videoControls"),title:this.setAttributeBool(this.dataset,"videoTitle"),byline:this.setAttributeBool(this.dataset,"videoByline"),portrait:this.setAttributeBool(this.dataset,"videoPortrait"),color:this.dataset.videoColor.substring(1),autopause:!1,muted:this.setAttributeBool(this.dataset,"videoMute"),dnt:this.setAttributeBool(this.dataset,"videoPrivacy"),keyboard:this.setAttributeBool(this.dataset,"videoKeyboard"),pip:this.setAttributeBool(this.dataset,"videoPip")}),this.dataset.videoStart&&this.player.setCurrentTime(this.dataset.videoStart);var o=parseInt(this.dataset.videoStart);0<o&&this.player.on("play",function(t){0===parseInt(t.seconds)&&this.player.setCurrentTime(o)});function a(t){0<parseInt(e.dataset.videoEnd)&&parseInt(t.seconds)>=parseInt(e.dataset.videoEnd)&&(e.pause(),e.dataset.videoEnd=0)}0<parseInt(this.dataset.videoEnd)&&(this.player.on("timeupdate",a),this.player.on("seeked",function(t){parseInt(t.seconds)<1||i.player.off("timeupdate",a)})),this.player.on("loaded",function(){"true"!==i.video.dataset.readonly&&"true"!==i.video.dataset.disabled&&("true"===i.dataset.videoAutoplay&&i.overlay?i.video.classList.add("hiddenOverlay"):"false"===i.dataset.videoAutoplay&&i.overlay&&(i.player.play(),i.player.on("play",function(){i.video.classList.add("hiddenOverlay")})))})},t}(TF_Video);

